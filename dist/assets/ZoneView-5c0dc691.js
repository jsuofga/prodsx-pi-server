import{_ as y,G as k,H as l,N as h,O as u,R as f,P as w,$ as C,I as i,J as r,B as e,W as d,Z as m,M as b,F as p,V as B}from"./index-4b0f3250.js";import{i as S,h as g}from"./VRow-a1f5fed6.js";import{V as a}from"./VCol-76d13ecf.js";import{V as x}from"./VImg-65177318.js";import{V as I}from"./VContainer-d018132f.js";const R={name:"DisplayRX",props:["rxLabel","rxID"],components:{},setup(){return{stateStore:k()}},data:()=>({}),methods:{selectRX(o,t){this.stateStore.rxSelectedLabel=`${o}`,this.stateStore.rxSelected=t,this.stateStore.switch1RxOnly=!0,this.stateStore.switchAllRx=!1,localStorage.setItem("rxSelected",this.stateStore.rxSelected),localStorage.setItem("rxSelectedLabel",this.stateStore.rxSelectedLabel),this.$router.push("/videoinputs")}},computed:{}},D={id:"rx-label"},z={id:"rx-ch-select"};function P(o,t,v,s,n,c){return l(),h("button",{class:C(["button",{notDetected:s.stateStore.rxParams[v.rxID].chSelect=="not detected"||s.stateStore.rxParams[v.rxID].chSelect=="error"}]),onClick:t[0]||(t[0]=_=>c.selectRX(v.rxLabel,v.rxID))},[u(f(v.rxLabel)+" ",1),w("div",D,f(v.rxID),1),w("div",z,f(s.stateStore.rxParams[v.rxID].chSelect),1)],2)}const L=y(R,[["render",P],["__scopeId","data-v-0e9ec5a1"]]);const T={name:"VideoWalls",props:[],setup(){return{stateStore:k()}},data(){return{bg_image:[],vwIPs:[]}},computed:{is2x2VideoWallOn(){return this.stateStore.rxParams[this.vwIPs[0]].max_column=="1"}},methods:{changeBackgroundImage(){for(const[o,t]of this.vwIPs.entries())try{this.bg_image[o]=`http://${t}/capture.jpg?`+Date.now()}catch(v){console.log(v)}},switch2x2VW_solo(o){this.is2x2VideoWallOn||(this.stateStore.rxSelected=this.vwIPs[o]),localStorage.setItem("rxSelected",this.stateStore.rxSelected),this.$router.push("/videoinputs")},switch2x2VW(o){this.stateStore.rxSelected=this.vwIPs[0],localStorage.setItem("rxSelected",this.stateStore.rxSelected),this.stateStore.vw2x2Mode=o,this.$router.push("/videoinputs")}},created(){this.vwIPs=this.stateStore.vwList.filter(o=>o.vwName==this.stateStore.vwSelected)[0].rxAssigned;for(let o of this.vwIPs)try{fetch(`http://${o}/cgi-bin/query.cgi?cmd=capture_pic &`,{method:"GET"})}catch(t){console.log(t)}this.snapShot=setInterval(this.changeBackgroundImage,2500)},mounted(){},beforeUnmount(){console.log("stop snapshot");for(let o of this.vwIPs)try{fetch(`http://${o}/cgi-bin/query.cgi?cmd=killall capture_pic`,{method:"GET"})}catch(t){console.log(t)}clearInterval(this.snapShot)}};function X(o,t,v,s,n,c){return l(),i(I,{id:"container"},{default:r(()=>[e(S,{id:"title",class:"d-flex justify-center text-white"},{default:r(()=>[w("h3",null,f(s.stateStore.vwSelected)+"- "+f(this.is2x2VideoWallOn),1)]),_:1}),e(a,{id:"vw-container",style:m({backgroundImage:c.is2x2VideoWallOn?"url("+n.bg_image[0]+")":""})},{default:r(()=>[s.stateStore.vwTypeSelected=="1x3"?(l(),i(S,{key:0,id:"vw-1x3"})):s.stateStore.vwTypeSelected=="2x2"?(l(),i(S,{key:1,id:"vw-2x2"},{default:r(()=>[e(a,{cols:"6",class:"grid-2x2"},{default:r(()=>[c.is2x2VideoWallOn?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[0],onClick:t[0]||(t[0]=_=>c.switch2x2VW_solo(0))},null,8,["src"]))]),_:1}),e(a,{cols:"6",class:"grid-2x2"},{default:r(()=>[c.is2x2VideoWallOn?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[1],onClick:t[1]||(t[1]=_=>c.switch2x2VW_solo(1))},null,8,["src"]))]),_:1}),e(a,{cols:"6",class:"grid-2x2"},{default:r(()=>[c.is2x2VideoWallOn?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[2],onClick:t[2]||(t[2]=_=>c.switch2x2VW_solo(2))},null,8,["src"])),e(g,{id:"vw2x2-offBtn",icon:"mdi-grid-large",size:"x-large",onClick:t[3]||(t[3]=_=>s.stateStore.videoWallOff())})]),_:1}),e(a,{cols:"6",class:"grid-2x2"},{default:r(()=>[c.is2x2VideoWallOn?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[3],onClick:t[4]||(t[4]=_=>c.switch2x2VW_solo(3))},null,8,["src"])),e(g,{id:"vw2x2-onBtn",size:"x-large",onClick:t[5]||(t[5]=_=>c.switch2x2VW("vw2x2_on"))},{default:r(()=>[u("2x2")]),_:1})]),_:1})]),_:1})):s.stateStore.vwTypeSelected=="2x3"?(l(),i(S,{key:2,id:"vw-2x3"},{default:r(()=>[e(a,{cols:"4",class:"grid-2x3"}),e(a,{cols:"4",class:"grid-2x3"}),e(a,{cols:"4",class:"grid-2x3"}),e(a,{cols:"4",class:"grid-2x3"}),e(a,{cols:"4",class:"grid-2x3"},{default:r(()=>[e(g,{id:"vw2x3-offBtn",icon:"mdi-grid",size:"x-large",onClick:t[6]||(t[6]=_=>s.stateStore.videoWallOff())}),e(g,{id:"vw2x3-2x2OnBtn",onClick:t[7]||(t[7]=_=>o.switch2x3VW("vw2x3_2x2on")),size:"x-large"},{default:r(()=>[u("2x2")]),_:1})]),_:1}),e(a,{cols:"4",class:"grid-2x3"},{default:r(()=>[e(g,{id:"vw2x3-onBtn",size:"x-large",onClick:t[8]||(t[8]=_=>o.switch2x3VW("vw2x3_2x3on"))},{default:r(()=>[u("2x3")]),_:1})]),_:1})]),_:1})):s.stateStore.vwTypeSelected=="3x3"?(l(),i(S,{key:3,id:"vw-3x3"},{default:r(()=>[e(a,{id:"vw3x3-1",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3_2x2On?(l(),i(x,{key:0,cover:"",src:n.bg_image[0],style:m({transform:s.stateStore.vw3x3_2x2On?"scale(2) translate( 25%, 25%)":"scale(0) translate( 0%, 0%)"})},null,8,["src","style"])):d("",!0)]),_:1}),e(a,{id:"vw3x3-2",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3_2x2On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[1],style:m({transform:s.stateStore.vw3x3_2x2On?"scale(2) translate( 25%, 25%)":"scale(0) translate( 0%, 0%)"})},null,8,["src","style"]))]),_:1}),e(a,{id:"vw3x3-3",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[2]},null,8,["src"]))]),_:1}),e(a,{id:"vw3x3-4",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3_2x2On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[3],style:m({transform:s.stateStore.vw3x3_2x2On?"scale(2) translate( 25%, 25%)":"scale(0) translate( 0%, 0%)"})},null,8,["src","style"]))]),_:1}),e(a,{id:"vw3x3-5",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3_2x2On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[4],style:m({transform:s.stateStore.vw3x3_2x2On?"scale(2) translate( 25%, 25%)":"scale(0) translate( 0%, 0%)"})},null,8,["src","style"])),e(g,{id:"vw3x3-2x2Btn",size:"x-large",onClick:s.stateStore.vw_3x3_turn_2x2_on},{default:r(()=>[u("2x2")]),_:1},8,["onClick"])]),_:1}),e(a,{id:"vw3x3-6",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[5]},null,8,["src"])),e(g,{id:"vw3x3-2x3Btn",size:"x-large"},{default:r(()=>[u("2x3")]),_:1})]),_:1}),e(a,{id:"vw3x3-7",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[6]},null,8,["src"]))]),_:1}),e(a,{id:"vw3x3-8",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[7]},null,8,["src"])),e(g,{id:"vw3x3-offBtn",icon:"mdi-grid",size:"x-large",onClick:t[9]||(t[9]=_=>s.stateStore.vw3x3On=!1)})]),_:1}),e(a,{id:"vw3x3-9",cols:"4",class:"grid-3x3"},{default:r(()=>[s.stateStore.vw3x3On?d("",!0):(l(),i(x,{key:0,cover:"",src:n.bg_image[8]},null,8,["src"])),e(g,{id:"vw3x3-3x3Btn",size:"x-large",onClick:s.stateStore.vw_3x3_turn_3x3_on},{default:r(()=>[u("3x3")]),_:1},8,["onClick"])]),_:1})]),_:1})):d("",!0)]),_:1},8,["style"])]),_:1})}const N=y(T,[["render",X],["__scopeId","data-v-47def294"]]);const Z={name:"ZoneView",components:{DisplayRX:L,VideoWalls:N},setup(){return{stateStore:k()}},data:()=>({active:!1}),computed:{tvsInZone(){return this.stateStore.rxAssignments.filter(o=>o.zone==this.stateStore.zoneSelected)}},methods:{onClickOutside(){console.log("outside")}},beforeCreate(){},created(){console.log("start getRxStatus"),this.stateStore.getFeedback(),this.getRxStatus=setInterval(this.stateStore.getFeedback,5e3)},beforeUnmount(){console.log("stop getRxStatus"),clearInterval(this.getRxStatus)}},j={key:0},F={class:"text-white d-flex justify-center my-6"},A={key:1},E={class:"text-white"};function G(o,t,v,s,n,c){const _=b("DisplayRX"),O=b("VideoWalls");return l(),i(I,{id:"container",fluid:"",class:"fill-height d-flex justify-center"},{default:r(()=>[s.stateStore.zoneSelected!=""?(l(),h("div",j,[w("h2",F,f(s.stateStore.zoneSelected),1),e(S,{class:"myRow"},{default:r(()=>[(l(!0),h(p,null,B(c.tvsInZone,(V,W)=>(l(),i(a,{class:"myRow d-flex flex-row justify-center",key:W},{default:r(()=>[e(_,{rxLabel:V.name,rxID:V.rxId},null,8,["rxLabel","rxID"])]),_:2},1024))),128))]),_:1})])):(l(),h("div",A,[w("h3",E,f(s.stateStore.vwSelected),1),e(O)]))]),_:1})}const K=y(Z,[["render",G],["__scopeId","data-v-a122fee4"]]);export{K as default};
