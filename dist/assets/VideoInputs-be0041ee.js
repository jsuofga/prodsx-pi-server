import{_ as u,G as p,H as t,N as i,O as d,R as r,P as h,B as n,J as s,I as l,U as v,M as b,V as k,F as V,S as P}from"./index-b5bbddcf.js";import{V as w}from"./VChip-e3b64dfa.js";import{V as y,i as X}from"./VBtn-ce96676d.js";import{V as C}from"./VContainer-e3fc7b69.js";import{C as R}from"./VOverlay-6ba0d329.js";import{V as S}from"./VRow-e33230e9.js";import{V as B}from"./VSnackbar-14510393.js";import{V as L}from"./VCol-d6347710.js";import"./index-23450c46.js";import"./VIcon-58bb90d8.js";import"./VAvatar-7261f278.js";import"./forwardRefs-e658ad70.js";import"./scopeId-5064cb6a.js";const T={name:"SourceTX",props:["txLabel","txIP"],components:{},setup(){return{stateStore:p()}},data:()=>({bg_image:""}),methods:{selectTX(o){let a="";const c=o.split(".");let e=c[c.length-1];a=e.length==1?"00"+e:"0"+e,this.stateStore.txSelected=a,console.log(this.stateStore.vwSelected),this.stateStore.switch1RxOnly==!0?(this.stateStore.switchRX(a),this.stateStore.snackbar=!0):(this.stateStore.switchVW(a),this.stateStore.snackbar=!0)},changeBackgroundImage(){this.bg_image=`http://${this.txIP}/capture.jpg?`+Date.now()}},created(){fetch(`http://${this.txIP}/cgi-bin/query.cgi?cmd=capture_pic &`),this.snapShot=setInterval(this.changeBackgroundImage,2500)},beforeUnmount(){console.log("stop snapshot"),fetch(`http://${this.txIP}/cgi-bin/query.cgi?cmd=killall capture_pic`),clearInterval(this.snapShot)}},O={id:"tx-label"},j=["src"];function $(o,a,c,e,g,_){return t(),i("button",{class:"button",onClick:a[0]||(a[0]=x=>_.selectTX(c.txIP))},[d(r(c.txLabel)+" ",1),h("div",O,r(c.txIP),1),h("img",{src:o.bg_image,width:"190","aspect-ratio":"16/9"},null,8,j)])}const q=u(T,[["render",$],["__scopeId","data-v-f244282b"]]);const A={name:"PreviewRX",props:[],components:{},setup(){return{stateStore:p()}},data:()=>({bg_image:""}),methods:{changeBackgroundImage(){this.bg_image=`http://${this.stateStore.rxSelected}/capture.jpg?`+Date.now()}},created(){console.log("start snapshot"),this.changeBackgroundImage(),fetch(`http://${this.stateStore.rxSelected}/cgi-bin/query.cgi?cmd=capture_pic &`),this.snapShot=setInterval(this.changeBackgroundImage,2500)},mounted(){fetch(`http://${this.stateStore.rxSelected}/cgi-bin/query.cgi?cmd=capture_pic &`)},beforeUnmount(){console.log("stop snapshot"),fetch(`http://${this.stateStore.rxSelected}/cgi-bin/query.cgi?cmd=killall capture_pic`),clearInterval(this.snapShot)}},D={key:0,id:"preview-container"},N={key:1};function U(o,a,c,e,g,_){return e.stateStore.vwTypeSelected!="1x3"?(t(),i("div",D,[n(y,{class:"preview",cover:"",src:o.bg_image},{default:s(()=>[e.stateStore.rxSelectedLabel!=""?(t(),l(w,{key:0,id:"rx-label"},{default:s(()=>[d(r(e.stateStore.rxSelectedLabel),1)]),_:1})):v("",!0)]),_:1},8,["src"])])):(t(),i("div",N,[n(y,{class:"preview-rotate",cover:"",src:o.bg_image},{default:s(()=>[e.stateStore.rxSelectedLabel!=""?(t(),l(w,{key:0,id:"rx-label"},{default:s(()=>[d(r(e.stateStore.rxSelectedLabel),1)]),_:1})):v("",!0)]),_:1},8,["src"])]))}const F=u(A,[["render",U],["__scopeId","data-v-b1f2d1dc"]]);const z={name:"Vault",components:{SourceTX:q,PreviewRX:F},setup(){return{stateStore:p()}},data:()=>({active:!1}),methods:{onClickOutside(){this.stateStore.vwSelected==""?this.$router.push("/zoneview"):this.$router.push("/videowallview")}},created(){},beforeUnmount(){}},E={id:"inner-div"},G={key:0},H={key:1},J={key:2};function M(o,a,c,e,g,_){const x=b("PreviewRX"),I=b("SourceTX");return t(),l(C,{id:"container",fluid:"",class:"fill-height d-flex flex-column"},{default:s(()=>[k((t(),i("div",E,[n(S,{id:"rx-preview-container",class:"d-flex justify-center text-white"},{default:s(()=>[n(x,{rxIP:e.stateStore.rxSelected},null,8,["rxIP"])]),_:1}),n(B,{modelValue:e.stateStore.snackbar,"onUpdate:modelValue":a[0]||(a[0]=m=>e.stateStore.snackbar=m),timeout:3e3,color:"blue"},{default:s(()=>[e.stateStore.vwSelected==""?(t(),i("div",G,r(` ${e.stateStore.rxSelectedLabel} to ${e.stateStore.txAssignments[parseInt(e.stateStore.txSelected)-1].name} `),1)):e.stateStore.vwSelected!=""&&e.stateStore.switch1RxOnly==!0?(t(),i("div",H,r(` ${e.stateStore.vwSelected} RX ${e.stateStore.rxSelected} to ${e.stateStore.txAssignments[parseInt(e.stateStore.txSelected)-1].name} `),1)):(t(),i("div",J,r(` ${e.stateStore.vwSelected} to ${e.stateStore.txAssignments[parseInt(e.stateStore.txSelected)-1].name} `),1)),h("template",null,[n(X,{color:"white",variant:"text"})])]),_:1},8,["modelValue"]),e.stateStore.vwSelected==""?(t(),l(S,{key:0,id:"rx-label",class:"d-flex justify-center pa-6 myCol"},{default:s(()=>[d(" Select Video for - "+r(e.stateStore.rxSelectedLabel),1)]),_:1})):(t(),l(S,{key:1,id:"rx-label",class:"d-flex justify-center pa-6 myCol"},{default:s(()=>[d(" Select Video for - "+r(e.stateStore.vwSelected),1)]),_:1})),n(S,{class:"myRow d-flex align-center"},{default:s(()=>[(t(!0),i(V,null,P(e.stateStore.txAssignments,(m,f)=>(t(),l(L,{key:f,class:"d-flex justify-center pl-0"},{default:s(()=>[n(I,{txLabel:e.stateStore.txAssignments[f].name,txIP:m.txId},null,8,["txLabel","txIP"])]),_:2},1024))),128))]),_:1})])),[[R,_.onClickOutside]])]),_:1})}const ie=u(z,[["render",M],["__scopeId","data-v-3d796c9d"]]);export{ie as default};
