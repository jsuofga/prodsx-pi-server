import{_ as h,G as _,H as c,I as m,J as s,B as t,O as p,S as P,V as T,W as U,P as f,U as w,M as x,N as $,X as k,F as R}from"./index-22f2994b.js";import{V as F,a as j,b as S}from"./VCard-4eb6743b.js";import{V as C,a as g}from"./VTextField-1a461402.js";import{V as n}from"./VRow-e36be0c7.js";import{g as u}from"./VBtn-f3701a52.js";import{V as I}from"./VContainer-093d0b74.js";import{V as N}from"./VAvatar-7188c93d.js";import{V as B}from"./VDialog-7cadf68d.js";import{V as v}from"./VCol-dcd6150e.js";import"./createSimpleFunctional-9040478b.js";import"./VProgressCircular-45d1eb3c.js";import"./VInput-c64a2533.js";import"./index-355db926.js";import"./transition-bb25d3da.js";import"./forwardRefs-e658ad70.js";import"./VOverlay-9392258a.js";import"./scopeId-0a562c6d.js";const M={name:"AddItachForm",props:[],setup(){return{stateStore:_()}},data(){return{ipAddress:"",ipRules:[e=>!!e||"IP is required",e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||"Must be valid IP address format"]}},computed:{isValidIP(){if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(this.ipAddress))return!0}},methods:{submit:function(){this.stateStore.iTachUnits.push(this.ipAddress),this.ipAddress=""},cancel:function(){this.$router.push("/")}},created(){},mounted(){},beforeUnmount(){}},y=e=>(T("data-v-4f6119d7"),e=e(),U(),e),D=y(()=>f("h5",null,"iTach IP",-1)),q=y(()=>f("div",null,"Add",-1));function z(e,a,r,i,o,l){return c(),m(I,{class:"d-flex justify-center"},{default:s(()=>[t(S,{id:"ip-input-card"},{default:s(()=>[t(F,{class:"d-flex justify-center mb-10"},{default:s(()=>[p(" Add iTachIP Units ")]),_:1}),t(j,{class:"d-flex justify-center"},{default:s(()=>[t(C,{id:"input-ip",class:"mb-5"},{default:s(()=>[D,t(n,null,{default:s(()=>[t(g,{modelValue:o.ipAddress,"onUpdate:modelValue":a[0]||(a[0]=d=>o.ipAddress=d),rules:o.ipRules,label:"IP Address"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l.isValidIP?(c(),m(n,{key:0,id:"buttons-container",class:"d-flex flex-column justify-center align-center"},{default:s(()=>[q,t(u,{color:"green",icon:"mdi-arrow-down-bold",onClick:l.submit,size:"large"},null,8,["onClick"])]),_:1})):P("",!0)]),_:1})]),_:1})}const E=h(M,[["render",z],["__scopeId","data-v-4f6119d7"]]),J="/assets/itach-23584cd4.png";const L={name:"ItachCard",props:["itachIndex","itachIP"],setup(){return{stateStore:_()}},data(){return{dialog:!1,ipAddress:"",alert:!1,ipRules:[e=>!!e||"IP is required",e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||"Must be valid IP address format"]}},computed:{},methods:{trash:function(e){this.stateStore.iTachUnits.splice(e,1),this.dialog=!1}},created(){},mounted(){},beforeUnmount(){}},O={id:"myCard",class:"d-flex flex-column align-center"};function G(e,a,r,i,o,l){return c(),m(I,{class:"d-flex justify-center"},{default:s(()=>[f("div",O,[t(C,{id:"input-ip",class:"mb-5"},{default:s(()=>[f("h5",null,"iTach "+w(e.itachIndex+1),1),t(n,null,{default:s(()=>[t(g,{modelValue:i.stateStore.iTachUnits[e.itachIndex],"onUpdate:modelValue":a[0]||(a[0]=d=>i.stateStore.iTachUnits[e.itachIndex]=d),rules:o.ipRules},null,8,["modelValue","rules"])]),_:1}),t(n,null,{default:s(()=>[t(N,{src:J,width:"50"})]),_:1})]),_:1}),t(u,{id:"delete-btn",density:"compact",icon:"mdi-trash-can",color:"red",onClick:a[1]||(a[1]=d=>o.dialog=!0)}),t(B,{modelValue:o.dialog,"onUpdate:modelValue":a[4]||(a[4]=d=>o.dialog=d),width:"auto"},{default:s(()=>[t(S,{"max-width":"400","prepend-icon":"mdi-update",text:"Confirm you want to remove iTach",title:"Delete iTach ?"},{actions:s(()=>[t(u,{variant:"outlined",class:"ms-auto",text:"No",onClick:a[2]||(a[2]=d=>o.dialog=!o.dialog)}),t(u,{variant:"outlined",class:"ms-auto",text:"Remove iTach",onClick:a[3]||(a[3]=d=>l.trash(e.itachIndex))})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}const H=h(L,[["render",G],["__scopeId","data-v-befd756a"]]),W={name:"AddItach",components:{AddItachForm:E,ItachCard:H},setup(){return{stateStore:_()}},data(){return{}},methods:{isValidIP(e){return/^(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)){3}$/.test(e)},save:function(){const e=this.stateStore.iTachUnits.filter(r=>!this.isValidIP(r));if(e.length>0){alert(`Invalid IP address(es): ${e.join(", ")}`);return}let a={};this.stateStore.iTachUnits.forEach((r,i)=>{a[`itach${i+1}_ipaddress`]=r}),fetch(`http://${this.stateStore.serverURL}/write/UserItachIPs/${JSON.stringify(a)}`).then(r=>{this.$router.push("/")}).catch(r=>console.log(r))},cancel(){this.$router.push("/")}},async created(){this.stateStore.showBottomNav=!1,this.stateStore.showSideMenu=!1},mounted(){},beforeUnmount(){}},X=f("h2",null,"Itach",-1);function K(e,a,r,i,o,l){const d=x("AddItachForm"),b=x("ItachCard");return c(),m(I,{class:"container",fluid:""},{default:s(()=>[t(d),t(v,{id:"zone-label",class:"d-flex flex-column"},{default:s(()=>[t(n,{class:"d-flex justify-center text-white"},{default:s(()=>[X]),_:1}),t(n,{class:"myRow d-flex flex-start"},{default:s(()=>[(c(!0),$(R,null,k(i.stateStore.iTachUnits,(A,V)=>(c(),m(v,{cols:"3",key:V},{default:s(()=>[t(b,{itachIndex:V,itachIP:A},null,8,["itachIndex","itachIP"])]),_:2},1024))),128))]),_:1}),t(n,{class:"myRow d-flex justify-center ma-6"},{default:s(()=>[t(u,{class:"ma-6",color:"red",onClick:l.cancel},{default:s(()=>[p("Cancel")]),_:1},8,["onClick"]),t(u,{class:"ma-6",color:"blue",onClick:l.save},{default:s(()=>[p("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const pe=h(W,[["render",K]]);export{pe as default};
