import{_ as h,G as _,H as c,I as m,J as s,B as e,O as p,S as g,U as T,P as f,R as U,M as x,N as k,V as $,F as P}from"./index-50471abb.js";import{V as w,a as R,c as F,b as S}from"./VCard-5f937fed.js";import{V as v,a as y}from"./VTextField-edd0bce4.js";import{V as i}from"./VRow-c628f82b.js";import{V as j}from"./VSpacer-6714f4f3.js";import{h as l}from"./VBtn-d24c2518.js";import{V as I}from"./VContainer-98aeb250.js";import{V as B}from"./VAvatar-9722b630.js";import{V as N}from"./VDialog-eb840bcd.js";import{V as C}from"./VCol-4aae2a6f.js";import"./createSimpleFunctional-da1367b3.js";import"./VIcon-7211f5fe.js";import"./forwardRefs-e658ad70.js";import"./index-2d17b3c4.js";import"./transition-c84aa93e.js";import"./VOverlay-ea6fea29.js";import"./scopeId-a51c3c26.js";const D={name:"AddItachForm",props:[],setup(){return{stateStore:_()}},data(){return{ipAddress:"",ipRules:[t=>!!t||"IP is required",t=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)||"Must be valid IP address format"]}},computed:{},methods:{submit:function(){this.stateStore.iTachUnits.push(this.ipAddress),this.ipAddress=""},cancel:function(){this.$router.push("/")}},created(){},mounted(){},beforeUnmount(){}},M=t=>(g("data-v-82b87889"),t=t(),T(),t),q=M(()=>f("h5",null,"iTach IP",-1));function E(t,a,u,n,o,d){return c(),m(I,{class:"d-flex justify-center"},{default:s(()=>[e(S,{id:"ip-input-card"},{default:s(()=>[e(w,{class:"d-flex justify-center mb-10"},{default:s(()=>[p(" Add iTachIP Units ")]),_:1}),e(R,{class:"d-flex justify-center"},{default:s(()=>[e(v,{id:"input-ip",class:"mb-5"},{default:s(()=>[q,e(i,null,{default:s(()=>[e(y,{modelValue:o.ipAddress,"onUpdate:modelValue":a[0]||(a[0]=r=>o.ipAddress=r),rules:o.ipRules,label:"IP Address"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(F,null,{default:s(()=>[e(j),e(l,{color:"primary",text:"",onClick:d.submit},{default:s(()=>[p(" ADD ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const J=h(D,[["render",E],["__scopeId","data-v-82b87889"]]),L="/assets/itach-23584cd4.png";const O={name:"ItachCard",props:["itachIndex","itachIP"],setup(){return{stateStore:_()}},data(){return{dialog:!1,ipAddress:"",alert:!1,ipRules:[t=>!!t||"IP is required",t=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)||"Must be valid IP address format"]}},computed:{},methods:{trash:function(t){this.stateStore.iTachUnits.splice(t,1)}},created(){},mounted(){},beforeUnmount(){}},z={id:"myCard",class:"d-flex flex-column align-center"};function G(t,a,u,n,o,d){return c(),m(I,{class:"d-flex justify-center"},{default:s(()=>[f("div",z,[e(v,{id:"input-ip",class:"mb-5"},{default:s(()=>[f("h5",null,"iTach "+U(t.itachIndex+1),1),e(i,null,{default:s(()=>[e(y,{modelValue:n.stateStore.iTachUnits[t.itachIndex],"onUpdate:modelValue":a[0]||(a[0]=r=>n.stateStore.iTachUnits[t.itachIndex]=r),rules:o.ipRules},null,8,["modelValue","rules"])]),_:1}),e(i,null,{default:s(()=>[e(B,{src:L,width:"50"})]),_:1})]),_:1}),e(l,{id:"delete-btn",density:"compact",icon:"mdi-trash-can",color:"red",onClick:a[1]||(a[1]=r=>o.dialog=!0)}),e(N,{modelValue:o.dialog,"onUpdate:modelValue":a[4]||(a[4]=r=>o.dialog=r),width:"auto"},{default:s(()=>[e(S,{"max-width":"400","prepend-icon":"mdi-update",text:"Confirm you want to remove iTach",title:"Delete iTach ?"},{actions:s(()=>[e(l,{variant:"outlined",class:"ms-auto",text:"No",onClick:a[2]||(a[2]=r=>o.dialog=!o.dialog)}),e(l,{variant:"outlined",class:"ms-auto",text:"Remove iTach",onClick:a[3]||(a[3]=r=>d.trash(t.itachIndex))})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}const H=h(O,[["render",G],["__scopeId","data-v-d355710a"]]),K={name:"AddItach",components:{AddItachForm:J,ItachCard:H},setup(){return{stateStore:_()}},data(){return{}},methods:{save:function(){let t={};this.stateStore.iTachUnits.forEach((a,u)=>{t[`itach${u+1}_ipaddress`]=a}),console.log(t),fetch(`http://${this.stateStore.serverURL}/write/UserItachIPs/${JSON.stringify(t)}`).then(a=>{this.$router.push("/")}).catch(a=>console.log(a))},cancel(){this.$router.push("/")}},async created(){},mounted(){},beforeUnmount(){}},Q=f("h2",null,"Itach",-1);function W(t,a,u,n,o,d){const r=x("AddItachForm"),A=x("ItachCard");return c(),m(I,{class:"container",fluid:""},{default:s(()=>[e(r),e(C,{id:"zone-label",class:"d-flex flex-column"},{default:s(()=>[e(i,{class:"d-flex justify-center text-white"},{default:s(()=>[Q]),_:1}),e(i,{class:"myRow d-flex flex-start"},{default:s(()=>[(c(!0),k(P,null,$(n.stateStore.iTachUnits,(b,V)=>(c(),m(C,{cols:"3",key:V},{default:s(()=>[e(A,{itachIndex:V,itachIP:b},null,8,["itachIndex","itachIP"])]),_:2},1024))),128))]),_:1}),e(i,{class:"myRow d-flex justify-center ma-6"},{default:s(()=>[e(l,{class:"ma-6",color:"red",onClick:d.cancel},{default:s(()=>[p("Cancel")]),_:1},8,["onClick"]),e(l,{class:"ma-6",color:"primary",onClick:d.save},{default:s(()=>[p("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const ft=h(K,[["render",W]]);export{ft as default};
