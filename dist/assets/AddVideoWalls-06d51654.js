import{_ as h,G as g,H as r,I as m,J as a,B as t,O as p,P as d,S as C,V as T,W as I,U as N,N as W,X as b,F as L,Y as z,Z as U,M as A}from"./index-5d9bdee7.js";import{V as E,a as F,b as R}from"./VCard-f60c3a26.js";import{V as j,a as q}from"./VTextField-7ed21007.js";import{V as B,a as x}from"./VRadioGroup-8ae29007.js";import{V as c}from"./VRow-7133121c.js";import{V as f}from"./VProgressCircular-334768d2.js";import{V as D}from"./VSelect-2c67e50e.js";import{V as w}from"./VCol-ac7a754b.js";import{g as v}from"./VBtn-10d2fcfe.js";import{V}from"./VContainer-10e588d6.js";import{V as O}from"./VDialog-688449e7.js";import"./createSimpleFunctional-04a65218.js";import"./VAvatar-ce0846d3.js";import"./transition-b051101a.js";import"./VInput-102990f8.js";import"./index-3e551453.js";import"./forwardRefs-e658ad70.js";import"./VSelectionControl-9c6dabe4.js";import"./VOverlay-5301d233.js";import"./scopeId-9f2332a4.js";import"./VListItem-2e26abb2.js";import"./VDivider-cd50d312.js";import"./VChip-10980c95.js";const M={name:"AddVideoWallForm",props:[],setup(){return{stateStore:g()}},data(){return{vwName:"",alert:!1,vwType:"",rxAssignedToVideoWall:[],nameRules:[e=>!!e||"Name is required",e=>e&&e.length<=8||"Name must be less than 8 characters"]}},computed:{availableRxList:function(){let e=[];return this.stateStore.vwList.forEach(s=>{s.rxAssigned.forEach(n=>{e.push(n)})}),this.stateStore.rxAssignments.forEach(s=>{s.zone!=""&&(console.log(s.rxId),e.push(s.rxId))}),this.stateStore.rxAssignments.filter(s=>(console.log(e.indexOf(s.rxId)===-1),e.indexOf(s.rxId)===-1)).map(s=>s.rxId)}},methods:{add:function(){if(this.vwName==="")return;if(this.stateStore.vwList.map(n=>n.vwName).includes(this.vwName)){alert("Enter unique video wall name");return}let e={vwName:this.vwName,vwType:this.vwType,rxAssigned:[...this.rxAssignedToVideoWall]},s={"1x3":3,"2x2":4,"2x3":6,"3x3":9}[e.vwType];e.rxAssigned.length!==s?alert("Select "+s+" RX"):(this.rxAssignedToVideoWall=[],this.vwName="",this.vwType="",e.rxAssigned.forEach(n=>{this.stateStore.rxAssignments.forEach((o,u)=>{o.rxId===n&&(this.stateStore.rxAssignments[u].vwName=e.vwName,this.stateStore.rxAssignments[u].vwType=e.vwType)})}),this.stateStore.get_vwList())},save:function(){},cancel:function(){this.$router.push("/")}},created(){},mounted(){},beforeUnmount(){}},y=e=>(T("data-v-8893c0fd"),e=e(),I(),e),X=y(()=>d("h4",null," Add Video Wall",-1)),G={class:"d-flex flex-column align-center mx-9"},J=y(()=>d("small",null,"CW",-1)),H={class:"d-flex flex-column align-center mx-9"},K={class:"d-flex flex-column align-center mx-9"},P={class:"d-flex flex-column align-center mx-9"},Y=y(()=>d("div",null,"Add Video Wall",-1));function Z(e,l,s,n,o,u){return r(),m(V,{class:"d-flex justify-center"},{default:a(()=>[t(R,{id:"myCard"},{default:a(()=>[t(E,{class:"d-flex justify-center"},{default:a(()=>[X]),_:1}),t(F,null,{default:a(()=>[t(j,null,{default:a(()=>[t(q,{label:"Video Wall Name",rules:o.nameRules,modelValue:o.vwName,"onUpdate:modelValue":l[0]||(l[0]=i=>o.vwName=i),"prepend-inner-icon":"mdi-grid-large"},null,8,["rules","modelValue"])]),_:1})]),_:1}),t(B,{class:"py-6",modelValue:o.vwType,"onUpdate:modelValue":l[1]||(l[1]=i=>o.vwType=i)},{default:a(()=>[t(c,{class:"d-flex justify-center"},{default:a(()=>[p("Type")]),_:1}),t(c,{class:"d-flex justify-center px-2"},{default:a(()=>[d("div",G,[t(f,{icon:"mdi-view-column-outline",size:"large"}),t(x,{label:"1x3",value:"1x3"}),J]),d("div",H,[t(f,{icon:"mdi-grid-large",size:"large"}),t(x,{label:"2x2",value:"2x2"})]),d("div",K,[t(f,{icon:"mdi-view-module-outline",size:"x-large"}),t(x,{label:"2x3",value:"2x3"})]),d("div",P,[t(f,{icon:"mdi-grid",size:"large"}),t(x,{label:"3x3",value:"3x3"})])]),_:1})]),_:1},8,["modelValue"]),t(c,{id:"select",xs3:"",class:"d-flex justify-center mx-10"},{default:a(()=>[t(D,{modelValue:o.rxAssignedToVideoWall,"onUpdate:modelValue":l[2]||(l[2]=i=>o.rxAssignedToVideoWall=i),label:"Assign RX's",items:u.availableRxList,multiple:""},null,8,["modelValue","items"])]),_:1}),o.vwName&&o.vwType&&o.rxAssignedToVideoWall.length!=0?(r(),m(c,{key:0,id:"buttons-container",class:"d-flex justify-center"},{default:a(()=>[t(w,{class:"d-flex align-center flex-column"},{default:a(()=>[Y,t(v,{color:"green",icon:"mdi-arrow-down-bold",onClick:u.add,size:"large"},null,8,["onClick"])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})}const Q=h(M,[["render",Z],["__scopeId","data-v-8893c0fd"]]);const $={name:"VideowallCard",props:["vwIndex","vwName"],setup(){return{stateStore:g()}},data(){return{dialog:!1,zoneNames:"",alert:!1,nameRules:[e=>!!e||"Name is required",e=>e&&e.length<=8||"Name must be less than 8 characters"]}},computed:{},methods:{update_vw_list(e){this.stateStore.vwList[e].rxAssigned.forEach(l=>{this.stateStore.rxAssignments.forEach(s=>{s.rxId==l&&(s.vwName=this.stateStore.vwList[e].vwName)})})},submit:function(){this.zonename==""?this.alert=!0:this.alert=!1,this.$router.push("/")},trash:function(e){this.stateStore.rxAssignments.forEach((l,s)=>{l.vwName==e&&(this.stateStore.rxAssignments[s].vwName="",this.stateStore.rxAssignments[s].vwType="")}),this.dialog=!1,this.stateStore.get_vwList()},cancel:function(){this.$router.push("/")}},created(){},mounted(){},beforeUnmount(){}},ee={id:"myCard",class:"d-flex flex-column align-center"};function te(e,l,s,n,o,u){return r(),m(V,{class:"d-flex justify-center"},{default:a(()=>[d("div",ee,[d("label",null,N(s.vwName),1),n.stateStore.vwList[s.vwIndex].vwType=="1x3"?(r(),m(f,{key:0,id:"vw-type",icon:"mdi-view-column-outline",size:"large"})):n.stateStore.vwList[s.vwIndex].vwType=="2x2"?(r(),m(f,{key:1,id:"vw-type",icon:"mdi-grid-large",size:"large"})):n.stateStore.vwList[s.vwIndex].vwType=="2x3"?(r(),m(f,{key:2,id:"vw-type",icon:"mdi-view-module-outline",size:"x-large"})):n.stateStore.vwList[s.vwIndex].vwType=="3x3"?(r(),m(f,{key:3,id:"vw-type",icon:"mdi-grid",size:"large"})):C("",!0),t(c,{class:"d-flex my-3"},{default:a(()=>[(r(!0),W(L,null,b(n.stateStore.vwList[s.vwIndex].rxAssigned,(i,_)=>(r(),m(w,{id:"vw-rx-list",cols:"3",key:_},{default:a(()=>[d("small",null,N(`${i.slice(7)},`),1)]),_:2},1024))),128))]),_:1}),t(v,{id:"delete-btn",density:"compact",icon:"mdi-trash-can",color:"red",onClick:l[0]||(l[0]=i=>o.dialog=!0)}),t(O,{modelValue:o.dialog,"onUpdate:modelValue":l[3]||(l[3]=i=>o.dialog=i),width:"auto"},{default:a(()=>[t(R,{"max-width":"400","prepend-icon":"mdi-update",text:"Confirm you want to remove Video Wall",title:"Delete Video Wall ?"},{actions:a(()=>[t(v,{variant:"outlined",class:"ms-auto",text:"No",onClick:l[1]||(l[1]=i=>o.dialog=!o.dialog)}),t(v,{variant:"outlined",class:"ms-auto",text:"Remove VW",onClick:l[2]||(l[2]=i=>u.trash(s.vwName))})]),_:1})]),_:1},8,["modelValue"]),z(d("input",{id:"input",class:"inputFont my-3",onKeyup:l[4]||(l[4]=i=>u.update_vw_list(s.vwIndex)),type:"text","onUpdate:modelValue":l[5]||(l[5]=i=>n.stateStore.vwList[s.vwIndex].vwName=i),maxlength:"10"},null,544),[[U,n.stateStore.vwList[s.vwIndex].vwName]])])]),_:1})}const se=h($,[["render",te],["__scopeId","data-v-a41e38a5"]]);const le={name:"AddVideoWalls",components:{AddVideoWallForm:Q,VideowallCard:se},props:[],setup(){return{stateStore:g()}},data(){return{zonename:"",alert:!1,nameRules:[e=>!!e||"Name is required",e=>e&&e.length<=8||"Name must be less than 8 characters"],zoneNames:[]}},computed:{alert:function(){return this.zonename==""}},methods:{save:function(){console.log("save this",this.stateStore.rxAssignments),fetch(`http://${this.stateStore.serverURL}/write/UserTvNames/${JSON.stringify(this.stateStore.rxAssignments)}`).then(e=>{this.$router.push("/")}).catch(e=>console.log(e))},cancel:function(){this.$router.push("/")}},async created(){this.stateStore.showSideMenu=!1,this.stateStore.get_vwList()},mounted(){},beforeUnmount(){this.stateStore.vwList=[]}},ae=e=>(T("data-v-ef185e76"),e=e(),I(),e),oe=ae(()=>d("h2",null,"Video Walls",-1));function ie(e,l,s,n,o,u){const i=A("AddVideoWallForm"),_=A("VideowallCard");return r(),m(V,{class:"container",fluid:""},{default:a(()=>[t(i),t(w,{id:"zone-label",class:"d-flex flex-column"},{default:a(()=>[t(c,{class:"d-flex justify-center text-white"},{default:a(()=>[oe]),_:1}),t(c,{class:"myRow d-flex flex-start"},{default:a(()=>[(r(!0),W(L,null,b(n.stateStore.vwList,(k,S)=>(r(),m(w,{cols:"3",key:S},{default:a(()=>[t(_,{vwIndex:S,vwName:k.vwName},null,8,["vwIndex","vwName"])]),_:2},1024))),128))]),_:1}),t(c,{class:"myRow d-flex justify-center ma-6"},{default:a(()=>[t(v,{class:"ma-6",color:"red",onClick:u.cancel},{default:a(()=>[p("Cancel")]),_:1},8,["onClick"]),t(v,{class:"ma-6",color:"blue",onClick:u.save},{default:a(()=>[p("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const be=h(le,[["render",ie],["__scopeId","data-v-ef185e76"]]);export{be as default};
