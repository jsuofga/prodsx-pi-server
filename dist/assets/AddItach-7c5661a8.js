import{_ as h,G as _,H as l,I as u,J as s,B as t,O as p,S as T,V as U,W as k,P as m,U as w,M as x,N as P,X as $,F}from"./index-2aab0456.js";import{V as R,a as j,b as S}from"./VCard-7ff695e8.js";import{V as v,a as g}from"./VTextField-4b910ffd.js";import{V as i}from"./VRow-8013df2c.js";import{g as n}from"./VBtn-f04c5d3c.js";import{V as I}from"./VContainer-0413e3f8.js";import{V as N}from"./VAvatar-2b4fffca.js";import{V as B}from"./VDialog-505a1587.js";import{V as C}from"./VCol-bb3f55b4.js";import"./createSimpleFunctional-3b3a93fb.js";import"./VProgressCircular-276da2f1.js";import"./VInput-48dc2f7e.js";import"./index-5cbe2d13.js";import"./transition-f75054c1.js";import"./forwardRefs-e658ad70.js";import"./VOverlay-074dd1a4.js";import"./scopeId-505f1764.js";const M={name:"AddItachForm",props:[],setup(){return{stateStore:_()}},data(){return{ipAddress:"",ipRules:[e=>!!e||"IP is required",e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||"Must be valid IP address format"]}},computed:{isValidIP(){if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(this.ipAddress))return!0}},methods:{submit:function(){this.stateStore.iTachUnits.push(this.ipAddress),this.ipAddress=""},cancel:function(){this.$router.push("/")}},created(){},mounted(){},beforeUnmount(){}},y=e=>(U("data-v-4f6119d7"),e=e(),k(),e),D=y(()=>m("h5",null,"iTach IP",-1)),q=y(()=>m("div",null,"Add",-1));function z(e,a,f,c,o,d){return l(),u(I,{class:"d-flex justify-center"},{default:s(()=>[t(S,{id:"ip-input-card"},{default:s(()=>[t(R,{class:"d-flex justify-center mb-10"},{default:s(()=>[p(" Add iTachIP Units ")]),_:1}),t(j,{class:"d-flex justify-center"},{default:s(()=>[t(v,{id:"input-ip",class:"mb-5"},{default:s(()=>[D,t(i,null,{default:s(()=>[t(g,{modelValue:o.ipAddress,"onUpdate:modelValue":a[0]||(a[0]=r=>o.ipAddress=r),rules:o.ipRules,label:"IP Address"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),d.isValidIP?(l(),u(i,{key:0,id:"buttons-container",class:"d-flex flex-column justify-center align-center"},{default:s(()=>[q,t(n,{color:"green",icon:"mdi-arrow-down-bold",onClick:d.submit,size:"large"},null,8,["onClick"])]),_:1})):T("",!0)]),_:1})]),_:1})}const E=h(M,[["render",z],["__scopeId","data-v-4f6119d7"]]),J="/assets/itach-23584cd4.png";const L={name:"ItachCard",props:["itachIndex","itachIP"],setup(){return{stateStore:_()}},data(){return{dialog:!1,ipAddress:"",alert:!1,ipRules:[e=>!!e||"IP is required",e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||"Must be valid IP address format"]}},computed:{},methods:{trash:function(e){this.stateStore.iTachUnits.splice(e,1),this.dialog=!1}},created(){},mounted(){},beforeUnmount(){}},O={id:"myCard",class:"d-flex flex-column align-center"};function G(e,a,f,c,o,d){return l(),u(I,{class:"d-flex justify-center"},{default:s(()=>[m("div",O,[t(v,{id:"input-ip",class:"mb-5"},{default:s(()=>[m("h5",null,"iTach "+w(e.itachIndex+1),1),t(i,null,{default:s(()=>[t(g,{modelValue:c.stateStore.iTachUnits[e.itachIndex],"onUpdate:modelValue":a[0]||(a[0]=r=>c.stateStore.iTachUnits[e.itachIndex]=r),rules:o.ipRules},null,8,["modelValue","rules"])]),_:1}),t(i,null,{default:s(()=>[t(N,{src:J,width:"50"})]),_:1})]),_:1}),t(n,{id:"delete-btn",density:"compact",icon:"mdi-trash-can",color:"red",onClick:a[1]||(a[1]=r=>o.dialog=!0)}),t(B,{modelValue:o.dialog,"onUpdate:modelValue":a[4]||(a[4]=r=>o.dialog=r),width:"auto"},{default:s(()=>[t(S,{"max-width":"400","prepend-icon":"mdi-update",text:"Confirm you want to remove iTach",title:"Delete iTach ?"},{actions:s(()=>[t(n,{variant:"outlined",class:"ms-auto",text:"No",onClick:a[2]||(a[2]=r=>o.dialog=!o.dialog)}),t(n,{variant:"outlined",class:"ms-auto",text:"Remove iTach",onClick:a[3]||(a[3]=r=>d.trash(e.itachIndex))})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}const H=h(L,[["render",G],["__scopeId","data-v-befd756a"]]),W={name:"AddItach",components:{AddItachForm:E,ItachCard:H},setup(){return{stateStore:_()}},data(){return{}},methods:{save:function(){let e={};this.stateStore.iTachUnits.forEach((a,f)=>{e[`itach${f+1}_ipaddress`]=a}),fetch(`http://${this.stateStore.serverURL}/write/UserItachIPs/${JSON.stringify(e)}`).then(a=>{this.$router.push("/")}).catch(a=>console.log(a))},cancel(){this.$router.push("/")}},created(){},mounted(){this.stateStore.showSideMenu=!1},beforeUnmount(){}},X=m("h2",null,"Itach",-1);function K(e,a,f,c,o,d){const r=x("AddItachForm"),b=x("ItachCard");return l(),u(I,{class:"container",fluid:""},{default:s(()=>[t(r),t(C,{id:"zone-label",class:"d-flex flex-column"},{default:s(()=>[t(i,{class:"d-flex justify-center text-white"},{default:s(()=>[X]),_:1}),t(i,{class:"myRow d-flex flex-start"},{default:s(()=>[(l(!0),P(F,null,$(c.stateStore.iTachUnits,(A,V)=>(l(),u(C,{cols:"3",key:V},{default:s(()=>[t(b,{itachIndex:V,itachIP:A},null,8,["itachIndex","itachIP"])]),_:2},1024))),128))]),_:1}),t(i,{class:"myRow d-flex justify-center ma-6"},{default:s(()=>[t(n,{class:"ma-6",color:"red",onClick:d.cancel},{default:s(()=>[p("Cancel")]),_:1},8,["onClick"]),t(n,{class:"ma-6",color:"blue",onClick:d.save},{default:s(()=>[p("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const pe=h(W,[["render",K]]);export{pe as default};
