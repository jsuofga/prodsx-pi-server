import{_ as h,G as _,H as c,I as m,J as s,B as t,O as p,S as g,U as T,P as f,R as U,M as x,N as k,V as $,F as w}from"./index-0ac814ed.js";import{V as P,a as R,c as F,b as S}from"./VCard-9c9e8149.js";import{V as v,a as y}from"./VTextField-50c43a0c.js";import{V as i}from"./VRow-12320b97.js";import{V as j}from"./VSpacer-6fae0fcb.js";import{g as l}from"./VBtn-12cef21c.js";import{V as I}from"./VContainer-25d587d6.js";import{V as B}from"./VAvatar-18ded079.js";import{V as N}from"./VDialog-2298f18b.js";import{V as C}from"./VCol-5d2448d4.js";import"./createSimpleFunctional-9b97d869.js";import"./VProgressCircular-6794f1f1.js";import"./forwardRefs-e658ad70.js";import"./index-3e438f04.js";import"./transition-c8cebf58.js";import"./VOverlay-c81c4110.js";import"./scopeId-15ddff4c.js";const D={name:"AddItachForm",props:[],setup(){return{stateStore:_()}},data(){return{ipAddress:"",ipRules:[e=>!!e||"IP is required",e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||"Must be valid IP address format"]}},computed:{},methods:{submit:function(){this.stateStore.iTachUnits.push(this.ipAddress),this.ipAddress=""},cancel:function(){this.$router.push("/")}},created(){},mounted(){},beforeUnmount(){}},M=e=>(g("data-v-82b87889"),e=e(),T(),e),q=M(()=>f("h5",null,"iTach IP",-1));function E(e,a,u,n,o,d){return c(),m(I,{class:"d-flex justify-center"},{default:s(()=>[t(S,{id:"ip-input-card"},{default:s(()=>[t(P,{class:"d-flex justify-center mb-10"},{default:s(()=>[p(" Add iTachIP Units ")]),_:1}),t(R,{class:"d-flex justify-center"},{default:s(()=>[t(v,{id:"input-ip",class:"mb-5"},{default:s(()=>[q,t(i,null,{default:s(()=>[t(y,{modelValue:o.ipAddress,"onUpdate:modelValue":a[0]||(a[0]=r=>o.ipAddress=r),rules:o.ipRules,label:"IP Address"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),t(F,null,{default:s(()=>[t(j),t(l,{color:"primary",text:"",onClick:d.submit},{default:s(()=>[p(" ADD ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const J=h(D,[["render",E],["__scopeId","data-v-82b87889"]]),L="/assets/itach-23584cd4.png";const O={name:"ItachCard",props:["itachIndex","itachIP"],setup(){return{stateStore:_()}},data(){return{dialog:!1,ipAddress:"",alert:!1,ipRules:[e=>!!e||"IP is required",e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)||"Must be valid IP address format"]}},computed:{},methods:{trash:function(e){this.stateStore.iTachUnits.splice(e,1)}},created(){},mounted(){},beforeUnmount(){}},z={id:"myCard",class:"d-flex flex-column align-center"};function G(e,a,u,n,o,d){return c(),m(I,{class:"d-flex justify-center"},{default:s(()=>[f("div",z,[t(v,{id:"input-ip",class:"mb-5"},{default:s(()=>[f("h5",null,"iTach "+U(e.itachIndex+1),1),t(i,null,{default:s(()=>[t(y,{modelValue:n.stateStore.iTachUnits[e.itachIndex],"onUpdate:modelValue":a[0]||(a[0]=r=>n.stateStore.iTachUnits[e.itachIndex]=r),rules:o.ipRules},null,8,["modelValue","rules"])]),_:1}),t(i,null,{default:s(()=>[t(B,{src:L,width:"50"})]),_:1})]),_:1}),t(l,{id:"delete-btn",density:"compact",icon:"mdi-trash-can",color:"red",onClick:a[1]||(a[1]=r=>o.dialog=!0)}),t(N,{modelValue:o.dialog,"onUpdate:modelValue":a[4]||(a[4]=r=>o.dialog=r),width:"auto"},{default:s(()=>[t(S,{"max-width":"400","prepend-icon":"mdi-update",text:"Confirm you want to remove iTach",title:"Delete iTach ?"},{actions:s(()=>[t(l,{variant:"outlined",class:"ms-auto",text:"No",onClick:a[2]||(a[2]=r=>o.dialog=!o.dialog)}),t(l,{variant:"outlined",class:"ms-auto",text:"Remove iTach",onClick:a[3]||(a[3]=r=>d.trash(e.itachIndex))})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}const H=h(O,[["render",G],["__scopeId","data-v-d355710a"]]),K={name:"AddItach",components:{AddItachForm:J,ItachCard:H},setup(){return{stateStore:_()}},data(){return{}},methods:{save:function(){let e={};this.stateStore.iTachUnits.forEach((a,u)=>{e[`itach${u+1}_ipaddress`]=a}),fetch(`http://${this.stateStore.serverURL}/write/UserItachIPs/${JSON.stringify(e)}`).then(a=>{this.$router.push("/")}).catch(a=>console.log(a))},cancel(){this.$router.push("/")}},created(){},mounted(){this.stateStore.showSideMenu=!1},beforeUnmount(){}},Q=f("h2",null,"Itach",-1);function W(e,a,u,n,o,d){const r=x("AddItachForm"),A=x("ItachCard");return c(),m(I,{class:"container",fluid:""},{default:s(()=>[t(r),t(C,{id:"zone-label",class:"d-flex flex-column"},{default:s(()=>[t(i,{class:"d-flex justify-center text-white"},{default:s(()=>[Q]),_:1}),t(i,{class:"myRow d-flex flex-start"},{default:s(()=>[(c(!0),k(w,null,$(n.stateStore.iTachUnits,(b,V)=>(c(),m(C,{cols:"3",key:V},{default:s(()=>[t(A,{itachIndex:V,itachIP:b},null,8,["itachIndex","itachIP"])]),_:2},1024))),128))]),_:1}),t(i,{class:"myRow d-flex justify-center ma-6"},{default:s(()=>[t(l,{class:"ma-6",color:"red",onClick:d.cancel},{default:s(()=>[p("Cancel")]),_:1},8,["onClick"]),t(l,{class:"ma-6",color:"primary",onClick:d.save},{default:s(()=>[p("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const ft=h(K,[["render",W]]);export{ft as default};
